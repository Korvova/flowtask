# Flowtask - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è Bitrix24

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –∑–∞–¥–∞—á —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º.

## üéØ –ß—Ç–æ —ç—Ç–æ?

Flowtask –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- üìä –í–∏–∑—É–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –∏–∑ –∑–∞–¥–∞—á
- üîó –°–≤—è–∑—ã–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –ª–∏–Ω–∏—è–º–∏
- üé® –í–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á –ø–æ —Ü–≤–µ—Ç—É
- ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π
- üíæ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (v1.0)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Bitrix24 Marketplace
- ‚úÖ –í–∫–ª–∞–¥–∫–∞ "–ü—Ä–æ—Ü–µ—Å—Å—ã" –≤ –∑–∞–¥–∞—á–∞—Ö
- ‚úÖ React Flow –ø–æ–ª–æ—Ç–Ω–æ —Å drag & drop
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∑–∞–¥–∞—á –Ω–∞ –ø–æ–ª–æ—Ç–Ω–µ
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (—Å–∏–Ω–∏–π, –∑–µ–ª—ë–Ω—ã–π, –∫—Ä–∞—Å–Ω—ã–π, –æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ BX.PULL
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–∑–∞–¥–∞—á (—Å–µ—Ä—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)
- ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ –∏ –ø—Ä–µ–¥–∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ –£—Å–ª–æ–≤–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á:
  - `immediately` - —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
  - `delay` - —á–µ—Ä–µ–∑ X –º–∏–Ω—É—Ç
  - `ifCancel_create` - –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–∑–¥–∞—Ç—å
  - `ifCancel_cancel` - –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –æ—Ç–º–µ–Ω–∏—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –∏–∑ –ø—Ä–µ–¥–∑–∞–¥–∞—á
- ‚úÖ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–∑–∞–¥–∞—á –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ
- ‚úÖ Entity Storage API –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ REST API –±–µ–∑ –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (React)
- ‚úÖ TaskCreator –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- ‚úÖ PullSubscription –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (v2.0)

### –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚è≥ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –í–°–Å –¥–µ—Ä–µ–≤–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚è≥ –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ —Å–ª–µ–≤–∞
- ‚è≥ –î–æ—á–µ—Ä–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å–ø—Ä–∞–≤–∞
- ‚è≥ –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–∞–∫ —à–∞–±–ª–æ–Ω–∞
- ‚è≥ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –∫ –∑–∞–¥–∞—á–µ
- ‚è≥ –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- ‚è≥ –£–¥–∞–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
- ‚è≥ –í–∞–ª–∏–¥–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–∑–∞–¥–∞—á–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–≥—Ä—É–ø–ø
- ‚è≥ –ó–∞–º–µ–Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏

### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- ‚è≥ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω (–±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- ‚è≥ Pro –ø–æ–¥–ø–∏—Å–∫–∞ (500‚ÇΩ/–º–µ—Å—è—Ü, –±–µ–∑–ª–∏–º–∏—Ç —à–∞–±–ª–æ–Ω–æ–≤)
- ‚è≥ Pay-per-use (100‚ÇΩ –∑–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞)
- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/var/www/flowtask/
‚îú‚îÄ‚îÄ handler.php              # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ install.php              # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ settings.json            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Bitrix24
‚îú‚îÄ‚îÄ components/              # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ FlowCanvas.js       # –ì–ª–∞–≤–Ω–æ–µ –ø–æ–ª–æ—Ç–Ω–æ React Flow
‚îÇ   ‚îú‚îÄ‚îÄ TaskNode.js         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ TaskModal.js        # –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ TaskCreator.js      # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ PullSubscription.js # Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ StatusColors.js     # –¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
‚îú‚îÄ‚îÄ assets/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ js/                 # React, ReactFlow –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ css/                # –°—Ç–∏–ª–∏
‚îî‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ ARCHITECTURE.md     # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
    ‚îú‚îÄ‚îÄ RECURSIVE_LOAD_PLAN.md  # –ü–ª–∞–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
    ‚îî‚îÄ‚îÄ DEBUG_INSTRUCTIONS.md    # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Ç–ª–∞–¥–∫–µ
```

## üóÑÔ∏è Entity Storage

### `tflow_pos` - –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–¥–∞—á
–•—Ä–∞–Ω–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–∞–¥–∞—á –Ω–∞ –ø–æ–ª–æ—Ç–Ω–µ (X, Y)

### `tflow_future` - –ü—Ä–µ–¥–∑–∞–¥–∞—á–∏
–•—Ä–∞–Ω–∏—Ç –±—É–¥—É—â–∏–µ –∑–∞–¥–∞—á–∏ –¥–æ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### `tflow_conn` - –°–≤—è–∑–∏
–•—Ä–∞–Ω–∏—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ –∏ –ø—Ä–µ–¥–∑–∞–¥–∞—á–∞–º–∏

### `tflow_template` - –®–∞–±–ª–æ–Ω—ã (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–ë—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### `tflow_subscription` - –ü–æ–¥–ø–∏—Å–∫–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
–ë—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –æ–ø–ª–∞—Ç—ã

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Bitrix24 –ø–æ—Ä—Ç–∞–ª
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ú–∞—Ä–∫–µ—Ç ‚Üí –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –£–∫–∞–∂–∏—Ç–µ URL –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞: `https://rms-bot.com/flowtask/handler.php`
5. –£–∫–∞–∂–∏—Ç–µ URL —É—Å—Ç–∞–Ω–æ–≤–∫–∏: `https://rms-bot.com/flowtask/install.php`
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
- IP: 89.169.37.61
- Domain: rms-bot.com
- Path: `/var/www/flowtask/`

### –ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä
- IP: 217.26.30.163
- Domain: test.test-rms.ru
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: https://test.test-rms.ru/company/personal/user/1/tasks/task/view/{ID}/

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
```bash
NEW_VER=$(date +%s)
sed -i "s/v=[0-9]*/v=$NEW_VER/g" handler.php components/FlowCanvas.js
sudo systemctl reload nginx
```

### Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
https://github.com/Korvova/flowtask

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### v1.0 - 27.10.2025
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ü—Ä–µ–¥–∑–∞–¥–∞—á–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏!
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å `[object Object]` —Ä–µ—à–µ–Ω–∞
- ‚úÖ `realTaskId` —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ ID –∏–∑ `result.data().task.id`
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞ –ø–æ–ª–æ—Ç–Ω–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ARCHITECTURE.md](ARCHITECTURE.md) - –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [RECURSIVE_LOAD_PLAN.md](RECURSIVE_LOAD_PLAN.md) - –ü–ª–∞–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- [DEBUG_INSTRUCTIONS.md](DEBUG_INSTRUCTIONS.md) - –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã

- GitHub: https://github.com/Korvova/flowtask
- –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä: root@89.169.37.61

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–æ–µ –ü–û –¥–ª—è Bitrix24
